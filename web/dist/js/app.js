(function(e){function t(t){for(var n,o,s=t[0],l=t[1],i=t[2],f=0,d=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},c=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var u=l;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0d66":function(e,t,r){"use strict";r("3fd7")},1995:function(e,t,r){e.exports=r.p+"img/signature.svg"},"3bc4":function(e,t,r){},"3da3":function(e,t,r){},"3fd7":function(e,t,r){},"51f8":function(e,t,r){},"557b":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("99af"),r("4160"),r("fb6a"),r("d3b7"),r("ac1f"),r("1276"),r("159b"),r("96cf");var n=r("1da1"),a=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("7a23")),c={class:"container-fluid overflow-hidden main-div"},o={class:"search-box"},s={class:"search-result"};function l(e,t,r,n,l,i){var u=Object(a["n"])("TheNavBar"),f=Object(a["n"])("SearchBar"),d=Object(a["n"])("Shakespeare"),p=Object(a["n"])("SearchResults");return Object(a["i"])(),Object(a["e"])("div",c,[Object(a["g"])("div",o,[Object(a["g"])(u,{lastError:i.lastError},null,8,["lastError"]),Object(a["g"])(f,{searchTerm:i.searchTerm,onSearch:i.performSearch,onClearSearch:i.clearSearch},null,8,["searchTerm","onSearch","onClearSearch"]),i.results?Object(a["f"])("",!0):(Object(a["i"])(),Object(a["e"])(d,{key:0}))]),Object(a["g"])("div",s,[Object(a["g"])(a["b"],{name:"fade",mode:"out-in"},{default:Object(a["p"])((function(){return[i.results?(Object(a["i"])(),Object(a["e"])(p,{key:0,results:i.results,onMoreInfo:i.moreInfo},null,8,["results","onMoreInfo"])):Object(a["f"])("",!0)]})),_:1})])])}var i=Object(a["s"])("data-v-02e6779b");Object(a["k"])("data-v-02e6779b");var u={class:"navbar navbar-expand-lg navbar-light bg-transparent fixed-top"},f=Object(a["g"])("div",{class:"container-fluid"},[Object(a["g"])("span",{href:"#",class:"navbar-brand font px-2 mt-1",disabled:""}," Shakesearch ")],-1);Object(a["j"])();var d=i((function(e,t,r,n,c,o){return Object(a["i"])(),Object(a["e"])("nav",u,[f])})),p={props:["lastError"]};r("5c3b");p.render=d,p.__scopeId="data-v-02e6779b";var b=p,h=r("cedb"),v=r.n(h),g=r("1995"),j=r.n(g),O=Object(a["s"])("data-v-54f8d41c");Object(a["k"])("data-v-54f8d41c");var m={class:"position-relative vh-100"},x={class:"position-absolute top-45 start-49 translate-middle"},y={class:"row"},w={class:"col-1"},S={class:"col input"},k={class:"text"},T=Object(a["g"])("button",{class:"clear"},[Object(a["g"])("svg",{viewBox:"0 0 24 24"},[Object(a["g"])("path",{class:"line",d:"M2 2L22 22"}),Object(a["g"])("path",{class:"long",d:"M9 15L20 4"}),Object(a["g"])("path",{class:"arrow",d:"M13 11V7"}),Object(a["g"])("path",{class:"arrow",d:"M17 11H13"})])],-1),M=Object(a["g"])("img",{src:j.a,alt:"sketch"},null,-1);Object(a["j"])();var _=O((function(e,t,r,n,c,o){return Object(a["i"])(),Object(a["e"])("div",m,[Object(a["g"])("div",x,[Object(a["g"])("div",y,[Object(a["g"])("div",w,[Object(a["g"])("img",{src:v.a,class:"py-1 px-2",alt:"sketch",onClick:t[1]||(t[1]=function(){return o.performSearch&&o.performSearch.apply(o,arguments)})})]),Object(a["g"])("div",S,[Object(a["g"])("div",k,[Object(a["g"])("input",{type:"text",class:"search-input",value:r.searchTerm,onKeyup:t[2]||(t[2]=Object(a["q"])((function(){return o.performSearch&&o.performSearch.apply(o,arguments)}),["enter"])),placeholder:"What art thee looking f'r?"},null,40,["value"]),T])])]),M])])})),E=(r("13d5"),gsap),I=E.to,$=E.set;function P(e,t){var r=0;return function(){clearTimeout(r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];r=setTimeout(e.bind.apply(e,[this].concat(a)),t||0)}}function R(e,t,r,n){var a=function(e,t,r,a){var c=t||e,o=r||e,s={length:Math.sqrt(Math.pow(o[0]-c[0],2)+Math.pow(o[1]-c[1],2)),angle:Math.atan2(o[1]-c[1],o[0]-c[0])},l=s.angle+(a?Math.PI:0),i=s.length*n;return[e[0]+Math.cos(l)*i,e[1]+Math.sin(l)*i]},c=a(r[t-1],r[t-2],e,!1),o=a(e,r[t-1],r[t+1],!0);return"C ".concat(c[0],",").concat(c[1]," ").concat(o[0],",").concat(o[1]," ").concat(e[0],",").concat(e[1])}function q(e,t){return[[2,2],[12-e,12+e],[22,22]].reduce((function(e,r,n,a){return 0===n?"M ".concat(r[0],",").concat(r[1]):"".concat(e," ").concat(R(r,n,a,t))}),"")}var C={props:["searchTerm"],emits:["search","clear-search"],methods:{performSearch:function(e){""!==e.target.value?this.$emit("search",e.target.value):e.target.placeholder="Art thee looking f'r something?"}},mounted:function(){this.$nextTick((function(){var e=this;document.querySelectorAll(".input").forEach((function(t){var r=t.querySelector(".clear"),n=t.querySelector("input"),a=t.classList,c=r.querySelector(".line"),o=new Proxy({x:null},{set:function(e,t,r){return e[t]=r,null!==e.x&&c.setAttribute("d",q(e.x,.1925)),!0},get:function(e,t){return e[t]}});o.x=0,n.addEventListener("input",P((function(){var e=n.value.length;I(t,{"--clear-scale":e?1:0,duration:e?.5:.15,ease:e?"elastic.out(1, .7)":"none"}),I(t,{"--clear-opacity":e?1:0,duration:.15})}),250)),r.addEventListener("click",(function(){a.add("clearing"),$(t,{"--clear-swipe-left":-1*(n.offsetWidth-16)+"px"}),I(t,{keyframes:[{"--clear-rotate":"45deg",duration:.25},{"--clear-arrow-x":"2px","--clear-arrow-y":"-2px",duration:.15},{"--clear-arrow-x":"-3px","--clear-arrow-y":"3px","--clear-swipe":"-3px",duration:.15,onStart:function(){I(o,{x:3,duration:.1,delay:.05})}},{"--clear-swipe-x":1,"--clear-x":-1*n.offsetWidth+"px",duration:.45,onComplete:function(){n.value="",n.focus(),I(t,{"--clear-arrow-offset":"4px","--clear-arrow-offset-second":"4px","--clear-line-array":"8.5px","--clear-line-offset":"27px","--clear-long-offset":"24px","--clear-rotate":"0deg","--clear-arrow-o":1,duration:0,delay:.7,onStart:function(){a.remove("clearing")}}),I(t,{"--clear-opacity":0,duration:.2,delay:.55}),I(t,{"--clear-arrow-o":0,"--clear-arrow-x":"0px","--clear-arrow-y":"0px","--clear-swipe":"0px",duration:.15}),I(o,{x:0,duration:.45,ease:"elastic.out(1, .75)"})}},{"--clear-swipe-x":0,"--clear-x":"0px",duration:.4,delay:.35}]}),I(t,{"--clear-arrow-offset":"0px","--clear-arrow-offset-second":"8px","--clear-line-array":"28.5px","--clear-line-offset":"57px","--clear-long-offset":"17px",duration:.2});var r=e.$emit;setTimeout((function(){return r("clear-search")}),1e3)}))}))}))}};r("ca4e");C.render=_,C.__scopeId="data-v-54f8d41c";var L=C,B=r("c657"),A=r.n(B),H=Object(a["s"])("data-v-3fb60542");Object(a["k"])("data-v-3fb60542");var J={class:"position-absolute bottom-0 end-x"},N=Object(a["g"])("img",{src:A.a,class:"image-x"},null,-1);Object(a["j"])();var W=H((function(e,t,r,n,c,o){return Object(a["i"])(),Object(a["e"])("div",J,[N])})),D={};r("8c5d");D.render=W,D.__scopeId="data-v-3fb60542";var K=D,V=Object(a["s"])("data-v-d6373b32");Object(a["k"])("data-v-d6373b32");var z={class:"results"};Object(a["j"])();var F=V((function(e,t,r,n,c,o){return Object(a["i"])(),Object(a["e"])("div",z,[Object(a["g"])("ul",null,[Object(a["g"])(a["c"],{tag:"li",name:"results-list"},{default:V((function(){return[(Object(a["i"])(!0),Object(a["e"])(a["a"],null,Object(a["m"])(r.results,(function(e){return Object(a["i"])(),Object(a["e"])("li",{key:e},[Object(a["g"])("p",{innerHTML:e.f},null,8,["innerHTML"]),Object(a["g"])("button",{onClick:Object(a["r"])((function(t){return o.moreInfo(e)}),["prevent"])},"More info...",8,["onClick"])])})),128))]})),_:1})])])})),G={props:["results"],emits:["more-info"],methods:{moreInfo:function(e){this.$emit("more-info",e)}}};r("0d66");G.render=F,G.__scopeId="data-v-d6373b32";var Q=G,U={components:{TheNavBar:b,SearchBar:L,Shakespeare:K,SearchResults:Q},computed:{searchTerm:function(){return this.$store.state.searchTerm},results:function(){return this.$store.state.results},lastError:function(){return this.$store.state.lastError}},methods:{performSearch:function(e){this.$store.dispatch("fetchResults",e)},clearSearch:function(){""!==this.$store.searchTerm&&this.$store.dispatch("clearResults")},moreInfo:function(e){console.log("should more info",e)}}};r("88c4");U.render=l;var X=U,Y=(r("557b"),r("5502")),Z=Object(Y["a"])({state:function(){return{searchTerm:"",loading:!1,results:null,lastError:null}},actions:{clearResults:function(e){var t=e.state;t.searchTerm="",t.results=null},fetchResults:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n,a,c,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.state,n.searchTerm=t,n.loading=!0,n.results=[],r.next=6,fetch("http://localhost:8080/search?q=".concat(t));case 6:if(a=r.sent,200===a.status){r.next=10;break}return n.lastError=a.statusText,r.abrupt("return");case 10:c=a.body.getReader(),o=new TextDecoder("utf-8"),s=n,c.read().then((function(e){var t=e.value,r=e.done;if(n.loading=!1,r)console.log("stream closed. no results!");else{var a=o.decode(t),c=a.split("\n");c.slice(0,-1).forEach((function(e){try{var t=JSON.parse(e);s.results.push(t)}catch(r){console.error("error parsing json ".concat(r," : ").concat(e))}}))}}),(function(e){return console.error("The stream has an error and cannot be read from : ".concat(e))})).catch((function(e){return console.error("something horrible going on : ".concat(e))}));case 14:case"end":return r.stop()}}),r)})))()}}}),ee=Object(a["d"])(X);ee.use(Z),ee.mount("#app")},"5c3b":function(e,t,r){"use strict";r("3bc4")},"88c4":function(e,t,r){"use strict";r("51f8")},"8c5d":function(e,t,r){"use strict";r("ba7d")},ba7d:function(e,t,r){},c657:function(e,t,r){e.exports=r.p+"img/shakespeare.png"},ca4e:function(e,t,r){"use strict";r("3da3")},cedb:function(e,t,r){e.exports=r.p+"img/magnifying-glass.svg"}});
//# sourceMappingURL=app.js.map